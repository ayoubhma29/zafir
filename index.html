function submitOrder() {
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const city = document.getElementById('city').value;
            const address = document.getElementById('address').value || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯";
            
            if(!name || !phone || !city) {
                document.getElementById('orderFormSection').scrollIntoView({ behavior: 'smooth' });
                shakeForm();
                return;
            }

            const phoneRegex = /^0[567][0-9]{8}$/;
            const cleanPhone = phone.replace(/\s/g, '');

            if (!phoneRegex.test(cleanPhone)) {
                alert("Ø§Ù„Ù…Ø±Ø¬Ùˆ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ù…ØºØ±Ø¨ÙŠ ØµØ­ÙŠØ­ (Ù…Ø«Ø§Ù„: 0612345678)");
                const phoneInput = document.getElementById('phone');
                phoneInput.style.borderColor = "red";
                phoneInput.style.backgroundColor = "#fff1f2";
                phoneInput.focus();
                return;
            }

            document.getElementById('phone').style.borderColor = "#cbd5e1";
            document.getElementById('phone').style.backgroundColor = "#f8fafc";

            const btn = document.querySelector('.cta-btn');
            const originalText = btn.innerHTML;
            btn.innerHTML = "Ø¬Ø§Ø±ÙŠ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨...";
            btn.style.background = "#94a3b8";
            btn.disabled = true;

            const BOT_TOKEN = "8383494745:AAEFXQDJdszeU-EW8AWVn-NwGlQPiquG5xk";
            const CHAT_ID = "819906295";
            
            // Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„ØµØ­ÙŠØ­ (ÙƒÙ…Ø§ Ù‡Ùˆ Ø¹Ù†Ø¯Ùƒ)
            const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbylRACNSa-zj73gjancTwVUg5qGeeHIH1YRdYJL2TXvoBAf9WjzcWl_APOz8QZA62iO/exec";
            
            // --- 1. Prepare Google Sheet Data ---
            let sheetData = new FormData();
            sheetData.append('action', 'add'); // Ø¶Ø±ÙˆØ±ÙŠ Ø¬Ø¯Ø§Ù‹ Ù„Ù„Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯
            sheetData.append('name', name);
            sheetData.append('phone', cleanPhone);
            sheetData.append('city', city);
            sheetData.append('address', address);
            sheetData.append('product', 'iRed W10 Pro Max');
            sheetData.append('price', '280');
            sheetData.append('status', 'New');
            sheetData.append('note', '');

            // --- 2. Prepare Telegram Data ---
            const telegramText = `
ðŸ”¥ *Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ (iRed W10 Pro Max - 280 DH)*
------------------
ðŸ‘¤ *Ø§Ù„Ø¹Ù…ÙŠÙ„:* ${name}
ðŸ“± *Ø§Ù„Ù‡Ø§ØªÙ:* ${cleanPhone}
ðŸ™ *Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©:* ${city}
ðŸ“ *Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:* ${address}
ðŸ’° *Ø§Ù„Ø³Ø¹Ø±:* 280 Ø¯Ø±Ù‡Ù… (Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ)
------------------
â° ${new Date().toLocaleString('ar-MA')}
            `;

            const doRedirect = () => {
                window.location.href = "thankyou.html";
            };

            // Failsafe: Ø¥Ø°Ø§ ØªØ£Ø®Ø± Ø§Ù„Ø§Ø±Ø³Ø§Ù„ Ø£ÙƒØ«Ø± Ù…Ù† 3 Ø«ÙˆØ§Ù†ÙŠØŒ Ø­ÙˆÙ„ Ø§Ù„Ø²Ø¨ÙˆÙ† Ù‚Ø³Ø±Ø§Ù‹
            const timeoutID = setTimeout(() => {
                doRedirect();
            }, 3000);

            // Send Telegram (Priority 1)
            fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(telegramText)}&parse_mode=Markdown`)
            .then(() => {
                // Telegram sent SUCCESS, NOW sending to Google Sheet
                // Ù†Ø³ØªØ®Ø¯Ù… return Ù‡Ù†Ø§ Ù„Ù†Ù†ØªØ¸Ø± Ø§Ù†ØªÙ‡Ø§Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø´ÙŠØª
                return fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    body: sheetData,
                    mode: 'no-cors'
                });
            })
            .then(() => {
                // Google Sheet sent SUCCESS
                // Ø§Ù„Ø¢Ù† ÙÙ‚Ø· Ù†Ù‚ÙˆÙ… Ø¨Ø§Ù„ØªØ­ÙˆÙŠÙ„
                clearTimeout(timeoutID);
                doRedirect();
            })
            .catch(err => {
                // In case of ANY error (Telegram or Sheet), still redirect
                console.log("Error occurred but redirecting anyway:", err);
                clearTimeout(timeoutID);
                doRedirect();
            });
        }
